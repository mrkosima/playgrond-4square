{"version":3,"sources":["ducks/venues/consts.js","ducks/search/consts.js","ducks/search/reducer.js","ducks/venues/actions.js","service/FoursquareService.js","ducks/storeSelectors.js","ducks/search/epics.js","ducks/index.js","ducks/venues/reducer.js","ducks/errors/reducer.js","ducks/errors/consts.js","ducks/venues/epics.js","ducks/errors/actions.js","ducks/errors/epics.js","components/venue/Address.js","components/venue/Distance.js","components/venue/Category.js","components/venue/Venue.js","components/venue/Status.js","components/venue/Venues.js","components/search/TextInput.js","components/search/query/QuerySearch.js","ducks/search/actions.js","assets/location.svg","components/search/location/LocationSearch.js","components/search/location/GeolocationSearch.js","components/search/SearchBar.js","components/Content.js","App.js","index.js"],"names":["VENUES_LOAD","VENUES_FULFILLED","initialState","query","locationName","coords","loadVenues","debounceTime","arguments","length","undefined","type","payload","BASE_URL","SEARCH_PATH","client_id","process","client_secret","v","baseRequest","path","params","ajax","getJSON","buildUrl","queryParams","getUrl","Object","objectSpread","getVenueSearchParams","_ref","locationCoords","selectSearch","state","search","selectQuery","selectLocationName","selectCoords","selectVenues","venues","searchEpics","combineEpics","action$","pipe","ofType","mergeMap","action","of","state$","withLatestFrom","filter","_ref2","slicedToArray","rootReducer","combineReducers","items","initialized","loading","errors","toConsumableArray","concat","rootEpic","debounce","timer","settings","map","response","catchError","error","meta","throwError","code","errorDetail","venuesFilfilled","takeUntil","title","message","NotificationManager","warning","AddressComponent","formattedAddress","react","data-role","a","key","DistanceComponent","meters","Math","round","formatDistance","CategoryComponent","_ref$categories","categories","primaryCategory","find","category","primary","name","VenueComponent","_React$Component","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","apply","inherits","createClass","value","_this$props$venue","props","venue","location","distance","className","Address_AddressComponent","Category_CategoryComponent","Distance_DistanceComponent","React","StatusComponent","text","VenuesComponent","_this$props","venuesInitialized","Status_StatusComponent","Venue_VenueComponent","id","Venues","connect","selectVenuesInitialized","selectVenuesLoading","selectVenuesItems","TextInputComponent","_React$PureComponent","_getPrototypeOf2","_this","_len","args","Array","_key","call","onChange","event","target","placeholder","mapDispatchToProps","QuerySearch","TextInput_TextInputComponent","_extends","assign","i","source","prototype","hasOwnProperty","location_ref","react_default","createElement","d","location_ref2","location_SvgComponent","fill","viewBox","LocationSearchComponent","__webpack_require__","p","onTextChange","locationIconClicked","onClick","GeolocationSearchComponent","onCurrentLocation","isGeolocationEnabled","useCurrentCoords","handleError","positionError","latitude","longitude","_this$props2","usingCurrentLocation","onLocationNameChange","LocationSearch_LocationSearchComponent","GeolocatedSearchComponent","geolocated","positionOptions","enableHighAccuracy","GeolocatedSearch","SearchBarComponent","ContentComponent","SearchBar_SearchBarComponent","lib","App","Content_ContentComponent","Component","epicMiddleware","createEpicMiddleware","store","createStore","composeWithDevTools","applyMiddleware","run","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.3bce1a11.chunk.js","sourcesContent":["export const VENUES_LOAD = \"venues/LOAD\";\nexport const VENUES_FULFILLED = \"venues/FULFULFILLED\";","export const QUERY_CHANGED = \"search/QUERY_CHANGED\";\nexport const LOCATION_NAME_CHANGED = \"search/LOCATION_NAME_CHANGED\";\nexport const USE_COORDS = \"search/USE_COORDS\";\n","import { QUERY_CHANGED, LOCATION_NAME_CHANGED, USE_COORDS } from \"./consts\";\n\nconst initialState = {\n    query: \"\",\n    locationName: \"Amsterdam, Netherlands\",\n    coords: \"\"\n};\n\nexport const reducer = (state = initialState, action) => {\n    const { type, payload } = action;\n    switch (type) {\n        case QUERY_CHANGED:\n            return { ...state, query: payload };\n        case LOCATION_NAME_CHANGED:\n            return { ...state, locationName: payload, coords: \"\" };\n        case USE_COORDS:\n            return { ...state, coords: payload, locationName: \"\" };\n        default:\n            return state;\n    }\n};\n","import { VENUES_LOAD, VENUES_FULFILLED } from \"./consts\";\n\nexport const loadVenues = (debounceTime = 0) => ({\n    type: VENUES_LOAD,\n    payload: debounceTime\n});\n\nexport const venuesFilfilled = venues => ({\n    type: VENUES_FULFILLED,\n    payload: venues\n});\n","import { throwError } from \"rxjs\";\nimport { ajax } from \"rxjs/observable/dom/ajax\";\nimport { map, catchError } from \"rxjs/operators\";\nimport buildUrl from \"build-url\";\n\nconst BASE_URL = \"https://api.foursquare.com/v2\";\nconst SEARCH_PATH = \"/venues/search\";\nconst CATEGORIES_PATH = \"/venues/categories\";\n\nconst client_id = process.env.REACT_APP_CLIENT_ID;\nconst client_secret = process.env.REACT_APP_CLIENT_SERCET;\nconst v = process.env.REACT_APP_API_VERSION;\n\nfunction getUrl(path, params) {\n    return buildUrl(BASE_URL, {\n        path,\n        queryParams: params\n    });\n}\n\nfunction baseRequest(path, params) {\n    return ajax.getJSON(\n        getUrl(path, {\n            ...params,\n            client_id,\n            client_secret,\n            v\n        })\n    );\n}\n\nconst getVenueSearchParams = ({ query, locationCoords, locationName }) => {\n    const params = {};\n    if (locationCoords) {\n        params[\"ll\"] = locationCoords;\n    } else if (locationName) {\n        params[\"near\"] = locationName;\n    } else {\n        params[\"intent\"] = \"global\";\n    }\n    if (query) {\n        params[\"query\"] = query;\n    }\n    return params;\n};\n\nexport function getVenues(settings) {\n    return baseRequest(SEARCH_PATH, getVenueSearchParams(settings)).pipe(\n        map(({ response }) => {\n            return response.venues;\n        }),\n        catchError(error => {\n            if (error.response) {\n                const meta = error.response.meta;\n                return throwError(`Error ${meta.code}. ${meta.errorDetail}`);\n            }\n            return throwError(\"Unknown error\");\n        })\n    );\n}\n\nexport function getCategories() {\n    return baseRequest(CATEGORIES_PATH);\n}\n","// Search\nconst selectSearch = state => state.search;\nexport const selectQuery = state => selectSearch(state).query;\nexport const selectLocationName = state => selectSearch(state).locationName;\nexport const selectCoords = state => selectSearch(state).coords;\n\n// Venues\nconst selectVenues = state => state.venues;\nexport const selectVenuesInitialized = state => selectVenues(state).initialized;\nexport const selectVenuesItems = state => selectVenues(state).items;\nexport const selectVenuesLoading = state => selectVenues(state).loading;\n\n// Errors\nexport const selectErrors = state => state.errors;\n","import { of } from \"rxjs\";\nimport { mergeMap, filter, withLatestFrom } from \"rxjs/operators\";\nimport { ofType, combineEpics } from \"redux-observable\";\nimport { QUERY_CHANGED, LOCATION_NAME_CHANGED, USE_COORDS } from \"./consts\";\nimport { loadVenues } from \"../venues/actions\";\nimport { selectQuery } from \"../storeSelectors\";\n\nexport const searchQueryChangedEpic = action$ =>\n    action$.pipe(\n        ofType(QUERY_CHANGED),\n        mergeMap(action => {\n            return of(loadVenues(action.payload.length > 3 ? 500 : 0));\n        })\n    );\n\nexport const locationChangedEpic = action$ =>\n    action$.pipe(\n        ofType(LOCATION_NAME_CHANGED),\n        mergeMap(action => of(loadVenues(300)))\n    );\n\nexport const useCurrentLocationEpic = (action$, state$) =>\n    action$.pipe(\n        ofType(USE_COORDS),\n        withLatestFrom(state$),\n        filter(([action, state]) => selectQuery(state).length > 0),\n        mergeMap(() => of(loadVenues()))\n    );\n\nexport const searchEpics = combineEpics(\n    searchQueryChangedEpic,\n    locationChangedEpic,\n    useCurrentLocationEpic\n);\n","import { combineReducers } from \"redux\";\nimport { combineEpics } from \"redux-observable\";\nimport { reducer as venuesReducer } from \"./venues/reducer\";\nimport { reducer as searchReducer } from \"./search/reducer\";\nimport { reducer as errorsReducer } from \"./errors/reducer\";\n\nimport { loadVenuesEpic } from \"./venues/epics\";\nimport { searchEpics } from \"./search/epics\";\nimport { errorHandleEpic } from \"./errors/epics\";\n\nexport const rootReducer = combineReducers({\n    venues: venuesReducer,\n    search: searchReducer,\n    errors: errorsReducer\n});\n\nexport const rootEpic = combineEpics(\n    loadVenuesEpic,\n    searchEpics,\n    errorHandleEpic\n);\n","import { VENUES_LOAD, VENUES_FULFILLED } from \"./consts\";\n\nexport function reducer(\n    state = {\n        items: [],\n        initialized: false,\n        loading: false\n    },\n    action\n) {\n    const { type, payload } = action;\n    switch (type) {\n        case VENUES_LOAD:\n            return { ...state, initialized: true, loading: true };\n        case VENUES_FULFILLED:\n            return { ...state, items: payload, loading: false };\n        default:\n            return state;\n    }\n}\n","import { HANDLE_ERROR, CLEANUP_ERRORS } from \"./consts\";\n\nexport const reducer = (state = [], { type, payload }) => {\n    switch (type) {\n        case HANDLE_ERROR:\n            return [...state, payload];\n        case CLEANUP_ERRORS:\n            return [];\n        default:\n            return state;\n    }\n};\n","export const HANDLE_ERROR = \"errors/HANDLE\";\nexport const CLEANUP_ERRORS = \"errors/CLEANUP\";\n","import { timer, of } from \"rxjs\";\nimport { map, mergeMap, withLatestFrom, debounce, takeUntil, catchError } from \"rxjs/operators\";\nimport { ofType } from \"redux-observable\";\nimport { VENUES_LOAD } from \"./consts\";\nimport { venuesFilfilled } from \"./actions\";\nimport { getVenues } from \"../../service/FoursquareService\";\nimport { selectQuery, selectCoords, selectLocationName } from \"../storeSelectors\";\nimport { handleWarning } from \"../errors/actions\";\n\n\nexport const loadVenuesEpic = (action$, state$) =>\n    action$.pipe(\n        ofType(VENUES_LOAD),\n        debounce(action => timer(action.payload || 0)),\n        withLatestFrom(state$),\n        mergeMap(\n            ([action, state]) => {\n                const params = {\n                    query: selectQuery(state),\n                    locationCoords: selectCoords(state),\n                    locationName: selectLocationName(state),\n                }\n                return getVenues(params).pipe(\n                    map(venues => venuesFilfilled(venues)),\n                    takeUntil(action$.pipe(ofType(VENUES_LOAD))),\n                    catchError(error => {\n                        return of(handleWarning(\"Something went wrong.\", error))\n                    }\n                  )\n                );\n            },\n        )\n    );\n","import { HANDLE_ERROR, CLEANUP_ERRORS } from \"./consts\";\n\nexport const handleWarning = (title, message) => ({\n    type: HANDLE_ERROR,\n    payload: {\n        title: title,\n        message: message,\n        type: \"warning\"\n    }\n});\n\nexport const handleError = (title, message) => ({\n    type: HANDLE_ERROR,\n    payload: {\n        title: title,\n        message: message,\n        type: \"error\"\n    }\n});\n\nexport const cleanupErrors = () => ({\n    type: CLEANUP_ERRORS\n});\n","import { of } from \"rxjs\";\nimport { mergeMap } from \"rxjs/operators\";\nimport { ofType } from \"redux-observable\";\nimport { HANDLE_ERROR } from \"./consts\";\nimport { cleanupErrors } from \"./actions\";\nimport { NotificationManager } from \"react-notifications\";\n\nexport const errorHandleEpic = action$ =>\n    action$.pipe(\n        ofType(HANDLE_ERROR),\n        mergeMap(({ payload }) => {\n            switch (payload.type) {\n                case \"error\":\n                    NotificationManager.error(payload.message, payload.title, 5000);\n                    break;\n                default:\n                    NotificationManager.warning(payload.message, payload.title, 3000);\n            }\n            return of(cleanupErrors());\n        })\n    );\n","import * as React from \"react\";\n\nexport const AddressComponent = ({ formattedAddress }) => {\n    if (formattedAddress) {\n        return (\n            <div data-role=\"addess\">\n                {formattedAddress.map(a => (\n                    <p key={a}>{a}</p>\n                ))}\n            </div>\n        );\n    }\n    return null;\n};\n","import * as React from \"react\";\n\nconst formatDistance = meters => {\n    if (meters > 10000) {\n        return `${Math.round(meters / 1000)}km`;\n    }\n    if (meters > 1000) {\n        return `${Math.round(meters / 100) / 10}km`;\n    }\n    if (meters > 50) {\n        return `${meters}m`;\n    }\n    return \"< 50m\";\n};\n\nexport const DistanceComponent = ({ meters }) => {\n    if (meters > 0) {\n        return <p data-role=\"distance\">{formatDistance(meters)}</p>;\n    }\n    return null;\n};\n","import * as React from \"react\";\n\nexport const CategoryComponent = ({ categories = [] }) => {\n    const primaryCategory = categories.find(category => category.primary);\n    if (primaryCategory) {\n        return <div data-role=\"category\">{primaryCategory.name}</div>;\n    }\n    return null;\n};\n","import * as React from \"react\";\nimport { AddressComponent } from \"./Address\";\nimport { DistanceComponent } from \"./Distance\";\nimport { CategoryComponent } from \"./Category\";\n\nexport class VenueComponent extends React.Component {\n    render() {\n        const { name, location, categories } = this.props.venue;\n        const { formattedAddress, distance } = location;\n        return (\n            <>\n                <div className=\"venue\">\n                    <p data-role=\"name\">{name}</p>\n                    <AddressComponent formattedAddress={formattedAddress} />\n                    <CategoryComponent categories={categories} />\n                    <DistanceComponent meters={distance} />\n                </div>\n            </>\n        );\n    }\n}\n","import * as React from \"react\";\n\nexport const StatusComponent = ({ text }) => {\n    return <p data-role=\"status\">{text}</p>;\n};\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { VenueComponent } from \"./Venue\";\nimport { StatusComponent } from \"./Status\";\nimport { selectVenuesItems, selectVenuesLoading, selectVenuesInitialized } from \"../../ducks/storeSelectors\";\n\nexport class VenuesComponent extends React.Component {\n    render() {\n        const { loading, venues, venuesInitialized } = this.props;\n        if (!venuesInitialized) {\n            return <StatusComponent text=\"Start typing in a search fields\" />;\n        }\n        if (loading) {\n            return <StatusComponent text=\"Searching...\" />;\n        }\n        if (venues.length === 0) {\n            return <StatusComponent text=\"No venues found\" />;\n        }\n        return (\n            <div className=\"venues\">\n                {this.props.venues.map(venue => (\n                    <VenueComponent key={venue.id} venue={venue} />\n                ))}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n    venuesInitialized: selectVenuesInitialized(state),\n    loading: selectVenuesLoading(state),\n    venues: selectVenuesItems(state),\n\n});\n\nexport const Venues = connect(mapStateToProps)(VenuesComponent);\n","import * as React from \"react\";\n\nexport class TextInputComponent extends React.PureComponent {\n    render() {\n        const { text, placeholder } = this.props;\n        return (\n            <input\n                placeholder={placeholder}\n                value={text}\n                onChange={this.onChange}\n                className=\"text-input\"\n            />\n        );\n    }\n    onChange = event => {\n        this.props.onChange(event.target.value);\n    };\n}\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { TextInputComponent } from \"../TextInput\";\nimport { searchQueryChanged } from \"../../../ducks/search/actions\";\nimport { selectQuery } from \"./../../../ducks/storeSelectors\";\n\nexport const QuerySearchComponent = props => (\n    <div className=\"query-search\">\n        <TextInputComponent {...props} />\n    </div>\n);\n\nconst mapStateToProps = state => ({\n    text: selectQuery(state)\n});\n\nconst mapDispatchToProps = {\n    onChange: searchQueryChanged\n};\n\nexport const QuerySearch = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(QuerySearchComponent);\n","import { QUERY_CHANGED, LOCATION_NAME_CHANGED, USE_COORDS } from \"./consts\";\n\nexport const searchQueryChanged = query => ({\n    type: QUERY_CHANGED,\n    payload: query\n});\n\nexport const locationChanged = locationName => ({\n    type: LOCATION_NAME_CHANGED,\n    payload: locationName\n});\n\nexport const useCoords = coords => ({\n    type: USE_COORDS,\n    payload: coords\n});\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M255.863 168.7c-48.047 0-87.14 39.093-87.14 87.144 0 48.047 39.093 87.14 87.14 87.14 48.051 0 87.145-39.093 87.145-87.14 0-48.051-39.094-87.145-87.145-87.145zm0 0\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M497.004 240.844h-55.055c-7.27-91.004-80.082-163.82-171.09-171.086V14.996C270.86 6.715 264.145 0 255.863 0s-14.996 6.715-14.996 14.996v54.762c-91.008 7.265-163.82 80.082-171.09 171.086h-54.78c-8.282 0-14.997 6.715-14.997 15 0 8.281 6.715 14.996 14.996 14.996h54.781c7.27 91.004 80.082 163.82 171.09 171.09v54.757c0 8.282 6.715 14.997 14.996 14.997 8.285 0 14.996-6.715 14.996-14.997V441.93c91.008-7.27 163.825-80.086 171.09-171.09h55.055c8.281 0 14.996-6.715 14.996-14.996 0-8.285-6.715-15-14.996-15zm-241.14 171.695c-86.403 0-156.696-70.297-156.696-156.695 0-86.403 70.293-156.7 156.695-156.7 86.403 0 156.696 70.297 156.696 156.7 0 86.398-70.293 156.695-156.696 156.695zm0 0\"\n});\n\nvar SvgComponent = function SvgComponent(props) {\n  return React.createElement(\"svg\", _extends({\n    fill: \"currentColor\",\n    viewBox: \"0 0 512.001 512\"\n  }, props), _ref, _ref2);\n};\n\nexport default __webpack_public_path__ + \"static/media/location.b0aa05ee.svg\";\nexport { SvgComponent as ReactComponent };","import * as React from \"react\";\nimport { TextInputComponent } from \"../TextInput\";\nimport { ReactComponent as LocationSVG } from \"./../../../assets/location.svg\";\n\nexport const LocationSearchComponent = ({\n    text,\n    placeholder,\n    onTextChange,\n    locationIconClicked\n}) => (\n    <div className=\"location-search\">\n        <TextInputComponent text={text} onChange={onTextChange} placeholder={placeholder} />\n        <span className=\"location-icon\" onClick={locationIconClicked}>\n            <LocationSVG />{\" \"}\n        </span>\n    </div>\n);\n","import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { geolocated } from \"react-geolocated\";\nimport { LocationSearchComponent } from \"./LocationSearch\";\nimport { locationChanged, useCoords } from \"../../../ducks/search/actions\";\nimport { selectLocationName, selectCoords } from \"./../../../ducks/storeSelectors\";\nimport { handleError } from \"../../../ducks/errors/actions\";\n\nexport class GeolocationSearchComponent extends React.PureComponent {\n    componentWillReceiveProps;\n    render() {\n        const { locationName, usingCurrentLocation, onLocationNameChange } = this.props;\n        const placeholder = usingCurrentLocation ? \"Current location\" : \"Location...\";\n        return (\n            <LocationSearchComponent\n                text={locationName}\n                placeholder={placeholder}\n                onTextChange={onLocationNameChange}\n                locationIconClicked={this.onCurrentLocation}\n            />\n        );\n    }\n\n    onCurrentLocation = () => {\n        const {\n            coords,\n            isGeolocationEnabled,\n            useCurrentCoords,\n            handleError,\n            positionError\n        } = this.props;\n        if (isGeolocationEnabled && coords) {\n            useCurrentCoords(`${coords.latitude},${coords.longitude}`);\n        } else {\n            handleError(\n                \"Current location is not available\",\n                positionError ? positionError.message : \"\"\n            );\n        }\n    };\n}\n\nconst GeolocatedSearchComponent = geolocated({\n    positionOptions: {\n        enableHighAccuracy: false\n    }\n})(GeolocationSearchComponent);\n\nconst mapStateToProps = state => ({\n    usingCurrentLocation: !!selectCoords(state),\n    locationName: selectLocationName(state)\n});\n\nconst mapDispatchToProps = {\n    onLocationNameChange: locationChanged,\n    useCurrentCoords: useCoords,\n    handleError: handleError\n};\n\nexport const GeolocatedSearch = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(GeolocatedSearchComponent);\n","import * as React from \"react\";\nimport { QuerySearch } from \"./query/QuerySearch\";\nimport { GeolocatedSearch } from \"./location/GeolocationSearch\";\n\nexport const SearchBarComponent = () => (\n    <div className=\"search-bar\">\n        <QuerySearch placeholder=\"I'm looking for...\" />\n        <span className=\"search-in\">in</span>\n        <GeolocatedSearch />\n    </div>\n);\n","import * as React from \"react\";\nimport { NotificationContainer } from \"react-notifications\";\nimport { Venues } from \"./venue/Venues\";\nimport { SearchBarComponent } from \"./search/SearchBar\";\n\nexport class ContentComponent extends React.PureComponent {\n    render() {\n        return (\n            <>\n                <SearchBarComponent />\n                <Venues />\n                <NotificationContainer />\n            </>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { ContentComponent } from \"./components/Content\";\nimport \"./App.css\";\n\nclass App extends Component {\n    render() {\n        return (\n            <div className=\"app\">\n                <ContentComponent />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport { createEpicMiddleware } from \"redux-observable\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport \"rxjs/add/operator/switchMap\";\nimport \"rxjs/add/operator/map\";\nimport \"rxjs/add/observable/of\";\nimport \"rxjs/add/operator/catch\";\nimport \"react-notifications/lib/notifications.css\";\n\nimport \"./index.css\";\nimport { rootReducer, rootEpic } from \"./ducks\";\nimport App from \"./App\";\n\nconst epicMiddleware = createEpicMiddleware();\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(epicMiddleware)));\nepicMiddleware.run(rootEpic);\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}